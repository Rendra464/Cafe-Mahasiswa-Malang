let products = {
    dataSnack:[
    {
        productName: "Kentang Goreng",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/80 kentang goreng.png",
        description: "Kentang Goreng adalah hidangan yang klasik dan memuaskan, terdiri dari potongan kentang yang digoreng hingga renyah dan keemasan di luar, namun tetap lembut di dalamnya. Dengan cita rasa gurih dan tekstur yang renyah, kentang goreng adalah camilan yang sempurna untuk dinikmati kapan saja. kentang goreng adalah pilihan yang populer untuk menemani minuman favorit Anda."
    },
    {
        productName: "Pisang Nugget",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/81 pisang nugget .png",
        description: "Pisang Nugget adalah camilan yang menggoda dan memanjakan, terdiri dari potongan pisang yang dibalut dengan adonan tepung dan kemudian digoreng hingga renyah di luar dan lembut di dalamnya. Dengan cita rasa manis dan tekstur yang crispy, pisang nugget adalah pilihan yang sempurna untuk memuaskan kerinduan akan cemilan yang lezat. "
    },
    {
        productName: "Pentol",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/82 pentol.png",
        description: "Pentol adalah cemilan yang lezat dan memuaskan, terdiri dari bola daging yang dibumbui dengan rempah-rempah yang khas, kemudian digoreng hingga kecoklatan dan renyah di luar namun tetap juicy di dalamnya. Dengan cita rasa gurih dan aromatik, pentol adalah pilihan yang populer untuk dinikmati sebagai camilan  yang cocok untuk memuaskan selera Anda yang lapar dan disajikan dengan berbagai saus penyerta semakin membuatnya menarik."
    },
    {
        productName: "Nugget",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/83 nugget.png",
        description: "Nugget adalah cemilan yang lezat dan serbaguna, terdiri dari potongan daging yang dibumbui dengan rempah-rempah dan tepung roti, kemudian digoreng hingga kecoklatan dan renyah di luar serta juicy di dalamnya. Dengan cita rasa yang gurih dan tekstur yang renyah, nugget adalah pilihan yang populer untuk dinikmati."
    },
    {
        productName: "Sosis",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/84 sosis.png",
        description: "adalah hidangan yang lezat dan mengenyangkan, terdiri dari daging cincang yang dicampur dengan rempah-rempah, kemudian diisi ke dalam kulit daging atau kulit sosis, lalu dipanggang atau digoreng hingga matang. Dengan cita rasa gurih dan tekstur yang kenyal, sosis adalah pilihan yang populer untuk dinikmati."
    },
    {
        productName: "Tahu Walik",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/85 tahu walik.png",
        description: "Tahu Walik adalah hidangan yang unik dan menggugah selera, terdiri dari tahu yang diisi dengan berbagai bahan tambahan seperti daging cincang, sayuran, telur, dan rempah-rempah, kemudian tahu tersebut dilipat kembali dan digoreng hingga kecoklatan. Dengan cita rasa yang gurih dan tekstur yang renyah di luar serta lembut di dalamnya, Tahu Walik adalah pilihan yang memuaskan untuk dinikmati."
    },
    {
        productName: "Roti Bakar",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/86 roti bakar.png",
        description: "Roti Bakar adalah hidangan klasik yang selalu populer di coffee shop, terdiri dari roti yang dipanggang hingga kecoklatan dan renyah di luar namun lembut di dalamnya. Roti biasanya dilumuri dengan mentega atau selai untuk menambahkan rasa juga bisa diisi dengan berbagai macam topping."
    },
    {
        productName: "Cireng",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/87 cireng.png",
        description: "Cireng adalah camilan yang populer dan lezat di coffee shop, terdiri dari adonan tepung tapioka yang dibentuk kemudian digoreng hingga kecoklatan dan renyah di luar serta lembut di dalamnya. Cireng biasanya disajikan dengan saus sebagai pelengkap untuk menambahkan cita rasa yang gurih dan pedas. Camilan ini cocok dinikmati sebagai pembuka selera atau camilan di tengah hari, memberikan sensasi gurih dan renyah yang memuaskan."
    },
    {
        productName: "Tahu Bakso",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/88 tahu bakso.png",
        description: "Tahu Bakso adalah hidangan yang lezat dan mengenyangkan di coffee shop, terdiri dari tahu yang diisi dengan bakso, bola daging yang gurih dan beraroma khas. Tahu dan bakso tersebut kemudian digoreng hingga kecoklatan dan disajikan dengan saus kacang atau saus sambal untuk menambahkan cita rasa yang kaya. Hidangan ini menghadirkan kombinasi yang harmonis antara kelezatan tahu yang lembut dan gurih dengan cita rasa kenyal dan gurih dari bakso. Tahu Bakso adalah pilihan yang cocok untuk camilan atau menu utama di coffee shop Anda."
    },
    {
        productName: "Tempura",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/89 tempura.png",
        description: "Tempura adalah hidangan Jepang yang menggugah selera, terdiri dari bahan makanan yang dilapisi dengan adonan tepung khusus dan kemudian digoreng hingga keemasan dan renyah. Dengan kombinasi rasa yang gurih, renyah di luar, dan lembut di dalamnya, tempura adalah pilihan yang populer dan memuaskan untuk dinikmati ."
    },
    {
        productName: "Pisang Goreng Ori",
        category: "Snack",
        price: "10.000",
        image: "Menu-Items/Snack/90 pisang goreng original.png",
        description: "Pisang Goreng Ori adalah hidangan klasik yang sangat disukai, terdiri dari potongan pisang yang dicelupkan ke dalam adonan tepung yang khas, kemudian digoreng hingga kecoklatan dan renyah di luar serta lembut di dalamnya. Dengan cita rasa manis alami dari pisang yang berpadu dengan adonan tepung yang gurih, pisang goreng ori adalah camilan yang memuaskan dan mengenyangkan. "
    },
    {
        productName: "Telur",
        category: "Topping",
        price: "10.000",
        image: "Menu-Items/Food/74 nasi telur bawang.png",
        description: ""
    },
    {
        productName: "Keju",
        category: "Topping",
        price: "10.000",
        image: "Menu-Items/Food/76 nasi telur keju.png",
        description: ""
    },
    ],
};


for (let i of products.dataSnack) {
    //Create Card
    let card = document.createElement("div");
    //Card should have category and should stay hidden initially
    card.classList.add("card", i.category, "hide");
    card.addEventListener('click', function(){
        // debugger
        let productName = i.productName.toLowerCase();
        let cards = document.querySelectorAll('.card');
        for(let card of cards){
            let cardProductName = card.querySelector('.product-name').innerText.toLowerCase();
            if (cardProductName === productName) {
                let overlays = document.getElementsByClassName('overlay');
                for (let overlay of overlays) {
                    overlay.style.visibility = "visible";
                    let popup = document.getElementsByClassName('popup');
                    for (let showpopup of popup){
                        showpopup.style.visibility = "visible";
                        showpopup.style.opacity = 1;
                        showpopup.querySelector('.ProductName').innerText = cardProductName;
                    }
                }
                let imageMenuDiv = document.querySelector('.ImageMenu');
                imageMenuDiv.innerHTML = '';

                // Append new image to ImageMenu
                let imgContainer = document.createElement("div");
                let image = document.createElement("img");
                image.setAttribute("src", i.image);
                imgContainer.appendChild(image);
                imageMenuDiv.appendChild(imgContainer);
                break;
            }

        }

        let closeButton = document.querySelector('.popup .x');

        // Add a click event listener to the close button
        closeButton.addEventListener('click', function(event) {
            // Prevent the default behavior of the anchor tag (page refresh)
            event.preventDefault();

            // Find the closest popup element and hide it
            let popup = this.closest('.popup');
            popup.style.visibility = "hidden";
            popup.style.opacity = 0;

            let overlays = document.getElementsByClassName('overlay');
            for (let overlay of overlays) {
                overlay.style.visibility = "hidden";
            }
        });
    });

    //image div
    let imgContainer = document.createElement("div");
    imgContainer.classList.add("image-container");
    //img tag
    let image = document.createElement("img");
    image.setAttribute("src", i.image);
    imgContainer.appendChild(image);
    card.appendChild(imgContainer);
    //container
    let container = document.createElement("div");
    container.classList.add("container");
    //product name
    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.id = "Description";
    // name.style.textAlign = "left";
    name.innerText = i.productName.toUpperCase();
    container.appendChild(name);
    //price
    let price = document.createElement("h6");
    price.id = "Description";
    // price.style.textAlign = "left"
    price.innerText = "Rp. " + i.price;
    container.appendChild(price);

    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}


//parameter passed from button (Parameter same as category)
function filterProduct(value) {
    // console.log(value);
    // console.log(products);
    //Button class code
    let buttons = document.querySelectorAll(".button-value");
    buttons.forEach((button) => {
    //check if value equals innerText
    if (value.toUpperCase() == button.innerText.toUpperCase()) {
        button.classList.add("active");
    } else {
        button.classList.remove("active");
    }
    });

    //select all cards
    let elements = document.querySelectorAll(".card");
    //loop through all cards
    elements.forEach((element) => {
    //display all cards on 'all' button click
    if (value == "all") {
        element.classList.remove("hide");
    } else {
            //Check if element contains category class
        if (element.classList.contains(value)) {
            //display element based on category
            element.classList.remove("hide");
        } else {
            //hide other elements
            element.classList.add("hide");
        }
    }
    });
}

//Search button click
document.getElementById("search").addEventListener("click", () => {
    //initializations
    let searchInput = document.getElementById("search-input").value;
    let elements = document.querySelectorAll(".product-name");
    let cards = document.querySelectorAll(".card");

    //loop through all elements
    elements.forEach((element, index) => {
    //check if text includes the search value
    if (element.innerText.includes(searchInput.toUpperCase())) {
        //display matching card
        cards[index].classList.remove("hide");
    } else {
        //hide others
        cards[index].classList.add("hide");
    }
    });
});

//Initially display all products
window.onload = () => {
    filterProduct("all");
};
