let products = {
    dataModern:[
    {
        productName: "Hot Greentea",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/53 green tea hot.png",
        description: "Green Tea hot adalah minuman yang menenangkan dan lezat, terbuat dari daun teh hijau berkualitas tinggi yang diseduh dengan air panas. Dikenal karena kandungan antioksidannya yang tinggi dan nutrisinya yang bermanfaat, green tea hot memiliki rasa yang segar dan ringan dengan aroma yang menenangkan. Cocok untuk dinikmati di pagi hari atau sebagai penghilang stres di tengah hari yang sibuk, green tea hot memberikan sensasi yang hangat dan menyegarkan bagi penggemar teh hijau."
    },
    {
        productName: "Hot RedVelvet",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/55 red velvet hot.png",
        description: "Red Velvet Hot adalah minuman yang menggoda dan memanjakan, terinspirasi dari kue Red Velvet yang lezat. Minuman ini terdiri dari campuran susu panas yang kaya, sirup Red Velvet yang menyenangkan. Dengan cita rasa yang manis, hangat, dan memikat, Red Velvet Hot adalah pilihan yang sempurna untuk dinikmati di malam hari atau saat cuaca dingin, memberikan rasa kenyamanan dan kesenangan dari kue Red Velvet dalam bentuk minuman yang hangat dan menyenangkan."
    },
    {
        productName: "Hot Chocolate",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/57 chocolate hot.png",
        description: ""
    },
    {
        productName: "Hot Thaitea",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/59 thaitea hot.png",
        description: ""
    },
    {
        productName: "Hot Taro",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/91 Ice Taro.png",
        description: ""
    },
    {
        productName: "Hot Cappucino",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/61 cappucino hot.png",
        description: ""
    },
    {
        productName: "Vanilla Latte",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/63 vanilla latte hot.png",
        description: ""
    },
    {
        productName: "Ice Greentea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/52 greentea ice.png",
        description: ""
    },
    {
        productName: "Ice RedVelvet",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/54 redvelvet ice.png",
        description: ""
    },
    {
        productName: "Ice Chocolate",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/56 chocolate ice.png",
        description: ""
    },
    {
        productName: "Ice Greentea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/52 greentea ice.png",
        description: "Green Tea ice adalah minuman yang menyegarkan dan menyehatkan, terbuat dari campuran teh hijau berkualitas tinggi yang disajikan dingin dengan es batu. Dikenal karena kandungan antioksidannya yang tinggi, green tea ice memiliki cita rasa yang segar dan ringan dengan sentuhan manis alami dari teh hijau. Cocok untuk dinikmati di cuaca panas atau sebagai alternatif yang sehat untuk minuman kopi, green tea ice memberikan sensasi penyegaran yang menyenangkan dan menyehatkan."
    },
    {
        productName: "Ice RedVelvet",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/54 redvelvet ice.png",
        description: "Red Velvet Ice adalah minuman yang menggoda dan menyegarkan, terinspirasi dari kue Red Velvet yang terkenal. Minuman ini terbuat dari campuran susu, sirup Red Velvet, es batu. Dengan cita rasa yang manis, ringan, dan menyenangkan, Red Velvet Ice cocok untuk yang menginginkan sesuatu yang berbeda dari minuman kopi tradisional. Rasakan kesenangan kue Red Velvet dalam bentuk minuman yang menyegarkan ini, menjadi pilihan sempurna untuk penyegaran di hari yang panas atau sebagai camilan manis di waktu santai."
    },
    {
        productName: "Ice Chocolate",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/53 green tea hot.png",
        description: "Minuman Chocolate Ice adalah pilihan yang memikat dan menyegarkan bagi pecinta coklat. Terbuat dari campuran susu dingin dan coklat yang kaya, disajikan dengan es batu untuk kesegaran ekstra. Dengan rasa yang manis dan lembut, minuman ini menggabungkan kenikmatan coklat dengan sensasi penyegaran es. Cocok dinikmati di siang hari atau sebagai camilan manis di tengah-tengah kesibukan"
    },
    {
        productName: "Ice Thaitea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/58 thaitea ice.png",
        description: "Minuman Thai Tea Ice adalah pilihan yang menggoda dan menyegarkan, terinspirasi dari teh Thai yang unik dan khas. Minuman ini terbuat dari campuran teh, susu kental manis, dan es batu. Dengan cita rasa yang unik, manis sangat cocok untuk dinikmati di siang hari atau sebagai penghilang dahaga yang menyegarkan. "
    },
    {
        productName: "Ice Taro",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/91 Ice Taro.png",
        description: ""
    },
    {
        productName: "Ice Cappucino",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/60 cappucino ice.png",
        description: "Minuman Cappucino Ice adalah kombinasi yang menyegarkan dan memuaskan dari espresso, susu, dan es batu. Dengan dasar espresso yang kuat, campuran susu yang lembut, dan es batu yang menyegarkan, Cappuccino Ice menawarkan sensasi yang unik dengan rasa kopi yang khas dan sentuhan kesegaran es. Cocok untuk dinikmati di cuaca panas atau sebagai penyegar di tengah hari yang sibuk, Cappuccino Ice memberikan pengalaman kopi yang memuaskan dengan sentuhan yang menyegarkan."
    },
    {
        productName: "Ice Vanilla Latte",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/62 vanilla latte ice.png",
        description: ""
    },
    ],
};


for (let i of products.dataModern) {
    //Create Card
    let card = document.createElement("div");
    //Card should have category and should stay hidden initially
    card.classList.add("card", i.category, "hide");
    card.addEventListener('click', function(){
        // debugger
        let productName = i.productName.toLowerCase();
        let cards = document.querySelectorAll('.card');
        for(let card of cards){
            let cardProductName = card.querySelector('.product-name').innerText.toLowerCase();
            if (cardProductName === productName) {
                let overlays = document.getElementsByClassName('overlay');
                for (let overlay of overlays) {
                    overlay.style.visibility = "visible";
                    let popup = document.getElementsByClassName('popup');
                    for (let showpopup of popup){
                        showpopup.style.visibility = "visible";
                        showpopup.style.opacity = 1;
                        showpopup.querySelector('.ProductName').innerText = cardProductName;
                    }
                }
                let imageMenuDiv = document.querySelector('.ImageMenu');
                imageMenuDiv.innerHTML = '';

                // Append new image to ImageMenu
                let imgContainer = document.createElement("div");
                let image = document.createElement("img");
                image.setAttribute("src", i.image);
                imgContainer.appendChild(image);
                imageMenuDiv.appendChild(imgContainer);
                break;
            }

        }

        let closeButton = document.querySelector('.popup .x');

        // Add a click event listener to the close button
        closeButton.addEventListener('click', function(event) {
            // Prevent the default behavior of the anchor tag (page refresh)
            event.preventDefault();

            // Find the closest popup element and hide it
            let popup = this.closest('.popup');
            popup.style.visibility = "hidden";
            popup.style.opacity = 0;

            let overlays = document.getElementsByClassName('overlay');
            for (let overlay of overlays) {
                overlay.style.visibility = "hidden";
            }
        });
    });

    //image div
    let imgContainer = document.createElement("div");
    imgContainer.classList.add("image-container");
    //img tag
    let image = document.createElement("img");
    image.setAttribute("src", i.image);
    imgContainer.appendChild(image);
    card.appendChild(imgContainer);
    //container
    let container = document.createElement("div");
    container.classList.add("container");
    //product name
    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.id = "Description";
    // name.style.textAlign = "left";
    name.innerText = i.productName.toUpperCase();
    container.appendChild(name);
    //price
    let price = document.createElement("h6");
    price.id = "Description";
    // price.style.textAlign = "left"
    price.innerText = "Rp. " + i.price;
    container.appendChild(price);

    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}


//parameter passed from button (Parameter same as category)
function filterProduct(value) {
    // console.log(value);
    // console.log(products);
    //Button class code
    let buttons = document.querySelectorAll(".button-value");
    buttons.forEach((button) => {
    //check if value equals innerText
    if (value.toUpperCase() == button.innerText.toUpperCase()) {
        button.classList.add("active");
    } else {
        button.classList.remove("active");
    }
    });

    //select all cards
    let elements = document.querySelectorAll(".card");
    //loop through all cards
    elements.forEach((element) => {
    //display all cards on 'all' button click
    if (value == "all") {
        element.classList.remove("hide");
    } else {
            //Check if element contains category class
        if (element.classList.contains(value)) {
            //display element based on category
            element.classList.remove("hide");
        } else {
            //hide other elements
            element.classList.add("hide");
        }
    }
    });
}

//Search button click
document.getElementById("search").addEventListener("click", () => {
    //initializations
    let searchInput = document.getElementById("search-input").value;
    let elements = document.querySelectorAll(".product-name");
    let cards = document.querySelectorAll(".card");

    //loop through all elements
    elements.forEach((element, index) => {
    //check if text includes the search value
    if (element.innerText.includes(searchInput.toUpperCase())) {
        //display matching card
        cards[index].classList.remove("hide");
    } else {
        //hide others
        cards[index].classList.add("hide");
    }
    });
});

//Initially display all products
window.onload = () => {
    filterProduct("all");
};
