let products = {
    datakopi: [
        {
            productName: "Ice Coffee ori",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Coffee/16 ice coffee original.png",
            description: "Ice Coffee Original adalah minuman yang menyegarkan dan membangkitkan yang terdiri dari kopi yang diseduh dengan air panas dan kemudian disajikan dengan es batu. Minuman ini memiliki cita rasa yang klasik dan kuat dari kopi.  "
        },
        {
            productName: "Americano",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/48 americano.png",
            description: "Americano adalah minuman kopi yang lezat dan menyegarkan, terdiri dari espresso yang dicampur dengan air panas. Dengan rasa yang lebih ringan dibandingkan dengan espresso murni, Americano menawarkan keseimbangan yang sempurna antara keasaman dan kekuatan kopi."
        },
        {
            productName: "Ice Coffee Hazel",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Coffee/17 ice coffee hazelnut.png",
            description: "Ice Coffee Hazelnut adalah minuman yang menyegarkan dan lezat yang terdiri dari kopi yang diseduh dengan air panas dan kemudian dicampur dengan sirup hazelnut yang kaya rasa. Minuman ini disajikan dengan es batu untuk memberikan sensasi kesegaran yang menyenangkan. Ice Coffee Hazelnut memiliki rasa kopi yang klasik dengan sentuhan manis dan aroma kacang hazelnut yang khas."
        },
        {
            productName: "Ice Kopi Vanilla",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Coffee/18 ice coffee vanilla.png",
            description: "Ice Coffee Vanilla adalah minuman yang menyegarkan dan menggugah selera yang terdiri dari kopi yang diseduh dengan air panas dan kemudian dicampur dengan sirup vanila yang lezat. Minuman ini disajikan dengan es batu untuk memberikan sensasi kesegaran yang menyenangkan. Ice Coffee Vanilla memiliki rasa kopi yang klasik dengan sentuhan manis dan aroma vanilla yang khas. "
        },
        {
            productName: "Ice Kopi Gula Aren",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Coffee/19 ice coffee gula aren.png",
            description: "Ice Coffee Gula Aren adalah minuman yang menyegarkan dan kaya cita rasa yang terdiri dari kopi yang diseduh dengan air panas dan kemudian dicampur dengan gula aren yang memberikan sentuhan manis khas. Minuman ini disajikan dengan es batu untuk memberikan sensasi kesegaran yang menyenangkan. Ice Coffee Gula Aren memiliki rasa kopi yang klasik dengan tambahan kekhasan dari gula aren, memberikan kesan manis dan lembut. "
        },
        {
            productName: "Ice Kopi Banana",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Coffee/20 ice coffee banana.png",
            description: "Ice Coffee Banana adalah minuman yang segar dan unik yang menggabungkan rasa kopi yang klasik dengan sentuhan manis alami dari pisang. Minuman ini biasanya terdiri dari kopi yang diseduh dengan air panas, kemudian dicampur dengan potongan pisang matang dan disajikan dengan es batu. Ice Coffee Banana memiliki cita rasa yang seimbang antara keasaman kopi dan manisnya pisang, menciptakan kombinasi yang menyegarkan dan lezat."
        },
        {
            productName: "Ice Cappucino",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/60 cappucino ice.png",
            description: "Minuman Cappucino Ice adalah kombinasi yang menyegarkan dan memuaskan dari espresso, susu, dan es batu. Dengan dasar espresso yang kuat, campuran susu yang lembut, dan es batu yang menyegarkan, Cappuccino Ice menawarkan sensasi yang unik dengan rasa kopi yang khas dan sentuhan kesegaran es. Cocok untuk dinikmati di cuaca panas atau sebagai penyegar di tengah hari yang sibuk, Cappuccino Ice memberikan pengalaman kopi yang memuaskan dengan sentuhan yang menyegarkan."
        },
        {
            productName: "Ice Vanila Latte",
            category: "Cold",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/62 vanilla latte ice.png",
            description: "Vanilla Latte Ice adalah minuman yang segar dan menggoda, menggabungkan kelezatan espresso dengan aroma vanila yang manis, susu dingin, dan es batu yang menyegarkan. Dengan sentuhan vanila yang memikat, minuman ini memberikan rasa yang lembut dan seimbang antara manis dan kopi yang kaya. Cocok untuk dinikmati di siang hari yang panas atau sebagai penyegar di tengah hari yang sibuk, Vanilla Latte Ice adalah pilihan yang memuaskan bagi pecinta kopi yang menginginkan sesuatu yang berbeda namun tetap menyegarkan."
        },
        {
            productName: "v-drip",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/22 V-drip.png",
            description: "V-Drip adalah minuman kopi dengan cita rasa yang kaya dan kompleks dengan proses pembuatan yang melibatkan air panas yang dituangkan secara perlahan-lahan melalui bubuk kopi yang segar dan disajikan dalam cangkir atau gelas. Metode ini memungkinkan ekstraksi yang mendalam dari kopi, menghasilkan minuman yang memiliki aroma yang kuat, keasaman yang seimbang, dan rasa yang kaya."
        },
        {
            productName: "Tubruk Susu",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/24 tubruk susu.png",
            description: "Tubruk Susu adalah variasi dari minuman kopi Tubruk yang ditambahkan susu ke dalamnya. Proses penyeduhan kopi Tubruk tetap sama, yaitu mencampurkan bubuk kopi langsung ke dalam air panas yang mendidih, namun kali ini disajikan dengan tambahan susu. Minuman ini memiliki cita rasa kopi yang kuat dan kental dengan sentuhan manis dan kreami dari susu. Tubruk Susu biasanya disajikan dalam cangkir kecil atau gelas tanpa filter tambahan, menjadi pilihan yang populer di coffee shop bagi mereka yang menyukai kopi yang kaya dan memiliki rasa yang berimbang antara kopi dan susu."
        },
        {
            productName: "Kopi Coklat",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/25 kopi coklat.png",
            description: "Kopi Coklat adalah minuman yang menggabungkan dua bahan populer: kopi dan coklat. Biasanya, ini terdiri dari espresso atau kopi hitam yang dicampur dengan sirup coklat atau bubuk coklat, kemudian disajikan dengan susu atau krim kental. Minuman ini memiliki cita rasa yang kaya dan kompleks dengan perpaduan antara pahitnya kopi dan manisnya coklat. Kopi Coklat sering disajikan panas, tetapi juga bisa dinikmati dingin dengan tambahan es batu. Ini merupakan pilihan yang populer di coffee shop bagi mereka yang mencari minuman yang memadukan kekuatan kopi dengan kenikmatan cokelat."
        },
        {
            productName: "Kopi Susu",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/26.Kopi susu cr1.png",
            description: "Kopi Susu Cr1 adalah minuman yang menggabungkan kopi espresso dengan susu yang telah dicampur dengan sirup Cr 1. Sirup Cr 1 adalah varian sirup khusus yang mungkin memiliki rasa unik atau campuran bahan tertentu yang memberikan sentuhan tambahan pada minuman. Kopi Susu Cr1 biasanya disajikan panas, dengan rasa kopi yang kaya dan cream dari susu, serta tambahan rasa dari sirup Cr 1. Ini merupakan pilihan yang menarik di coffee shop bagi mereka yang mencari minuman kopi dengan sentuhan unik dan berbeda."
        },
        {
            productName: "Kopi Tutup Susu",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/30 kopi tutup susu.png",
            description: "Kopi Tutup Susu adalah varian dari minuman kopi Tutup yang terdiri dari espresso yang ditutupi dengan lapisan krim kental dan juga tambahan susu. Espresso diseduh terlebih dahulu, kemudian dituangkan susu, dan diakhiri dengan lapisan krim di atasnya. Kopi Tutup Susu memiliki cita rasa kopi yang kaya dan kompleks dengan tambahan kelembutan dan kreami dari susu dan krim di atasnya. Ini merupakan pilihan yang populer di coffee shop bagi mereka yang mencari minuman kopi yang kaya dan lembut dengan sentuhan yang unik dari lapisan krim"
        },
        {
            productName: "Hot Cappucino",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/61 cappucino hot.png",
            description: "Cappuccino Hot adalah minuman kopi yang klasik dan memanjakan, terdiri dari espresso yang kuat, susu yang diukur dengan sempurna. Dengan rasa kopi yang kaya dan aroma yang menggoda, Cappuccino Hot cocok untuk dinikmati di pagi hari atau sebagai penghibur hangat di malam hari yang dingin. Nikmati kehangatan dan kenikmatan dari minuman kopi yang dihasilkan dengan sempurna ini, yang memberikan kesempurnaan dari setiap tegukan yang menyenangkan"
        },
        {
            productName: "Hot Vanila Latte",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/61 cappucino hot.png",
            description: "Vanilla Latte Hot adalah minuman kopi yang memikat dan memanjakan, menghadirkan kombinasi sempurna antara espresso yang kaya, susu yang lembut, dan sirup vanilla yang harum. Dengan cita rasa yang hangat dan menggoda, minuman ini menghadirkan kesempurnaan dari keselarasan antara rasa kopi yang kaya dan aroma vanilla yang manis. Cocok dinikmati di pagi hari atau sebagai penghilang kedinginan di malam hari yang dingin, Vanilla Latte Hot memberikan kehangatan dan kenikmatan yang memanjakan setiap tegukan."
        },
        {
            productName: "Espresso",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/50 espresso.png",
            description: "Espresso adalah inti dari pengalaman kopi yang mendalam. Diseduh dengan tekanan tinggi dan panas yang tepat, espresso menghasilkan cairan kopi yang kental, beraroma, dan penuh rasa. Dengan profil rasa yang kompleks dan kekuatan yang menggugah selera, espresso merupakan fondasi dari berbagai minuman kopi yang lebih kompleks, seperti cappuccino, latte, dan macchiato. Cocok untuk para penggemar kopi yang menginginkan pengalaman kopi yang autentik dan mendalam."
        },
        {
            productName: "Double Espresso",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/47 double espresso.png",
            description: "Double espresso adalah minuman kopi yang kuat dan kaya, diseduh dengan dua tembakan espresso yang tajam dan beraroma. Dengan ciri khasnya yang pekat dan penuh rasa, double espresso cocok untuk pecinta kopi yang menginginkan dorongan energi yang cepat dan nikmat. Dengan sedikit atau tanpa tambahan air, minuman ini menonjolkan karakteristik kopi yang otentik dan menggugah selera."
        },
        {
            productName: "Kopi Hitam",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/28 Kopi hitam Cr1.png",
            description: "Kopi Hitam Cr1 adalah minuman kopi yang terdiri dari espresso atau kopi hitam yang disajikan tanpa tambahan susu atau gula, namun dengan tambahan sirup Cr 1. Sirup Cr 1 adalah varian sirup khusus yang mungkin memiliki rasa unik atau campuran bahan tertentu yang memberikan sentuhan tambahan pada minuman. Kopi Hitam Cr1 memiliki cita rasa kopi yang kuat dan kaya dengan tambahan rasa dari sirup Cr 1, memberikan dimensi rasa yang berbeda dan menarik. Ini merupakan pilihan yang populer di coffee shop bagi mereka yang mencari minuman kopi yang sederhana tetapi memiliki sentuhan tambahan yang unik."
        },
        {
            productName: "Kopi Tubruk",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/23 tubruk.png",
            description: "Tubruk adalah metode tradisional penyeduhan kopi yang berasal dari Indonesia. Prosesnya melibatkan mencampurkan bubuk kopi langsung ke dalam air panas yang mendidih, kemudian disaring atau didiamkan untuk beberapa saat sebelum disajikan. Minuman kopi Tubruk memiliki cita rasa yang kuat dan kental dengan sedikit ampas di bagian bawah gelas. Biasanya disajikan dalam cangkir kecil atau gelas tanpa filter tambahan, Tubruk merupakan pilihan yang populer di coffee shop bagi pecinta kopi yang mencari pengalaman minum kopi yang autentik dan kuat."
        },
        {
            productName: "KSTG",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/27 KSTG .png",
            description: "KSTG atau Kopi Susu Tanpa Gula adalah minuman kopi yang terdiri dari campuran espresso atau kopi hitam dengan susu, tetapi tanpa tambahan gula. Minuman ini memiliki cita rasa kopi yang kaya dan cream dari susu, namun tanpa rasa manis tambahan dari gula. Biasanya disajikan panas, KSTG merupakan pilihan yang cocok bagi mereka yang ingin menikmati kekuatan dan kompleksitas rasa kopi tanpa tambahan gula. Ini merupakan pilihan yang populer di coffee shop bagi pecinta kopi yang menyukai rasa kopi yang murni dan alami."
        },
        {
            productName: "Kopi Tutup",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Coffee/29 kopi tutup.png",
            description: "Kopi Tutup adalah minuman kopi yang terdiri dari espresso yang ditutupi dengan lapisan krim kental di atasnya. Biasanya, espresso diseduh terlebih dahulu dan kemudian ditutupi dengan lapisan krim tebal yang memberikan sentuhan kreami dan lembut pada minuman. Kopi Tutup memiliki cita rasa kopi yang kaya dan kompleks dengan tambahan kelembutan dari krim di atasnya. Ini merupakan pilihan yang populer di coffee shop bagi mereka yang mencari minuman kopi yang kaya dan kreami dengan sentuhan yang unik."
        },
        {
            productName: "Kopi Espresso Susu",
            category: "Hot",
            price: "10.000",
            image: "Menu-Items/Modern-Drink/49 espresso susu.png",
            description: "Espresso susu adalah perpaduan sempurna antara espresso yang kaya dan susu yang lembut dan berbusa. Dibuat dengan mencampurkan satu atau dua tembakan espresso dengan susu steamed, minuman ini menghasilkan cita rasa yang seimbang antara kekentalan kopi dan kelembutan susu."
        },
    ],
};

// let ratings = {};

// // Fungsi untuk memperbarui bintang berdasarkan rating
// function updateStars(ratingDiv, rating) {
//     let stars = ratingDiv.querySelectorAll('.star');
//     stars.forEach((star, index) => {
//         if (index < rating) {
//             star.innerHTML = "&#9733;";
//         } else {
//             star.innerHTML = "&#9734;";
//         }
//     });
// }

// // Fungsi untuk mengirim rating ke server
// function sendRatingToServer(columnName, rating, coffeeId) {
//     debugger
//     console.log(columnName, rating, coffeeId);

//     // Ambil CSRF token dari meta tag
//     const csrfToken = $('meta[name="csrf-token"]').attr('content');

//     // Data yang akan dikirim dalam request body
//     const requestData = {
//         columnName: columnName,
//         rating: rating,
//         ID: coffeeId  // Menggunakan 'ID' sesuai dengan nama kolom di database
//     };

//     // Kirim POST request ke server menggunakan jQuery
//     $.ajax({
//         url: `/Menu-Coffee/${coffeeId}/rating`,  // Gunakan coffeeId dalam URL
//         type: 'POST',
//         contentType: 'application/json',
//         headers: {
//             'X-CSRF-TOKEN': csrfToken
//         },
//         data: JSON.stringify(requestData),
//         success: function(data) {
//             console.log('Success:', data);

//             if (data && data.success) {
//                 alert('Rating successfully added.');
//             } else {
//                 alert('Failed to add rating.');
//             }
//         },
//         error: function(xhr, status, error) {
//             console.error('Error:', error);
//             console.log('XHR:', xhr);
//             console.log('Status:', status);
//             console.log('Response Text:', xhr.responseText);
//             if (xhr.status === 401) { // Status code for unauthorized access
//                 alert('You need to login to add a rating.');
//                 window.location.href = '/login'; // Redirect to login page
//             } else {
//                 alert('Error adding rating: ' + xhr.responseText);
//             }
//         }
//     });
// }


// // Membuat kartu produk
// for (let i of products.datakopi) {
//     let card = document.createElement("div");
//     card.classList.add("card", i.category, "hide");
//     card.addEventListener('click', function () {
//         let productName = i.productName.toLowerCase();
//         let cards = document.querySelectorAll('.card');
//         for (let card of cards) {
//             let cardProductName = card.querySelector('.product-name').innerText.toLowerCase();
//             if (cardProductName === productName) {
//                 let overlays = document.getElementsByClassName('overlay');
//                 for (let overlay of overlays) {
//                     overlay.style.visibility = "visible";
//                     let popup = document.getElementsByClassName('popup');
//                     for (let showpopup of popup) {
//                         showpopup.style.visibility = "visible";
//                         showpopup.style.opacity = 1;
//                         showpopup.querySelector('.ProductName').innerText = cardProductName;
//                     }
//                 }

//                 let imageMenuDiv = document.querySelector('.ImageMenu');
//                 imageMenuDiv.innerHTML = '';

//                 let imgContainer = document.createElement("div");
//                 imgContainer.style.width = "150%";
//                 imageMenuDiv.style.width = "100%";
//                 let image = document.createElement("img");
//                 image.setAttribute("src", i.image);
//                 imgContainer.appendChild(image);
//                 imageMenuDiv.appendChild(imgContainer);

//                 let descriptionDiv = document.querySelector('.Content');
//                 descriptionDiv.innerHTML = i.description;

//                 let ratingDiv = document.createElement("div");
//                 ratingDiv.className = "rating-stars";

//                 let validId = card.querySelector('.product-name').id;
//                 // let ID;

//                 for (let j = 1; j <= 5; j++) {
//                     let star = document.createElement("span");
//                     star.className = "star";
//                     star.innerHTML = "&#9734;";
//                     star.dataset.rating = j;
//                     star.addEventListener('click', function () {
//                         let rating = parseInt(this.dataset.rating);
//                         ratings[validId] = rating;
//                         let userId = ratingDiv.dataset.userId;
//                         let coffeeId = userId;
//                         updateStars(ratingDiv, rating);
//                         sendRatingToServer(validId, rating, coffeeId);
//                     });
//                     ratingDiv.appendChild(star);
//                 }

//                 if (ratings[validId]) {
//                     updateStars(ratingDiv, ratings[validId]);
//                 }

//                 descriptionDiv.append(ratingDiv);
//                 break;
//             }
//         }

//         let closeButton = document.querySelector('.popup .x');
//         closeButton.addEventListener('click', function (event) {
//             event.preventDefault();
//             let popup = this.closest('.popup');
//             popup.style.visibility = "hidden";
//             popup.style.opacity = 0;
//             let overlays = document.getElementsByClassName('overlay');
//             for (let overlay of overlays) {
//                 overlay.style.visibility = "hidden";
//             }
//         });
//     });

//     let imgContainer = document.createElement("div");
//     imgContainer.classList.add("image-container");
//     let image = document.createElement("img");
//     image.setAttribute("src", i.image);
//     imgContainer.appendChild(image);
//     card.appendChild(imgContainer);

//     let container = document.createElement("div");
//     container.classList.add("container");

//     let name = document.createElement("h5");
//     let productName = i.productName;
//     name.classList.add("product-name");
//     // let firstChar = productName.charAt(0).toUpperCase();
//     // let validId = firstChar + productName.slice(1).toLowerCase().replace(/\s+/g, '_');

//     let firstChar = productName.charAt(0).toUpperCase();
//     let validId = firstChar + productName.slice(1);

//     validId = validId.replace(/\s+/g, '_');

//     name.id = validId;
//     name.style.fontFamily = "Inter, sans-serif";
//     name.style.fontSize = "20px";
//     name.style.textAlign = "center";
//     name.style.color = "#5F5D5E";
//     name.innerText = i.productName.toUpperCase();
//     container.appendChild(name);

//     let price = document.createElement("h6");
//     price.id = "Description";
//     price.innerText = "Rp. " + i.price;
//     container.appendChild(price);

//     card.appendChild(container);
//     document.getElementById("products").appendChild(card);
// }

// Filter produk berdasarkan kategori
// function filterProduct(value) {
//     let buttons = document.querySelectorAll(".button-value");
//     buttons.forEach((button) => {
//         if (value.toUpperCase() == button.innerText.toUpperCase()) {
//             button.classList.add("active");
//         } else {
//             button.classList.remove("active");
//         }
//     });

//     let elements = document.querySelectorAll(".card");
//     elements.forEach((element) => {
//         if (value == "all") {
//             element.classList.remove("hide");
//         } else {
//             if (element.classList.contains(value)) {
//                 element.classList.remove("hide");
//             } else {
//                 element.classList.add("hide");
//             }
//         }
//     });
// }

// // Pencarian produk
// document.getElementById("search").addEventListener("click", () => {
//     let searchInput = document.getElementById("search-input").value;
//     let elements = document.querySelectorAll(".product-name");
//     let cards = document.querySelectorAll(".card");

//     elements.forEach((element, index) => {
//         if (element.innerText.includes(searchInput.toUpperCase())) {
//             cards[index].classList.remove("hide");
//         } else {
//             cards[index].classList.add("hide");
//         }
//     });
// });

// // Tampilkan semua produk pada awalnya
// window.onload = () => {
//     filterProduct("all");
// };

