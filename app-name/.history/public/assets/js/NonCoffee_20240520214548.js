let products = {
    datanonkopi:[
    {
        productName: "Strawberry Milkshake",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/32 milkshake strawberry.png",
        description: "Milkshake Strawberry adalah minuman yang menyegarkan dan lezat yang terdiri dari campuran vanila atau susu yang dicampur dengan strawberry. Semuanya kemudian dicampur bersama dalam blender hingga menjadi tekstur yang lembut dan kental. Minuman ini memiliki rasa manis dan segar dari strawberry"
    },
    {
        productName: "Chocolate Milkshake",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/33 milkshake coklat.png",
        description: "Milkshake Coklat adalah minuman yang kaya dan lezat yang terdiri dari campuran vanila atau susu yang dicampur dengan coklat atau bubuk coklat. Semuanya kemudian dicampur bersama dalam blender hingga menjadi tekstur yang lembut dan kental. Minuman ini memiliki cita rasa yang manis dan gurih dari cokelat "
    },
    {
        productName: "Vanilla Milkshake",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/34 milkshake vanilla.png",
        description: "Milkshake Vanilla adalah minuman yang lembut dan menggugah selera yang terdiri dari campuran vanila atau susu yang dicampur dengan vanila. Semua bahan tersebut kemudian dicampur bersama dalam blender hingga mencapai tekstur yang lembut dan kental. Minuman ini memiliki rasa manis dan krimi dari vanilla"
    },
    {
        productName: "Avocado Milkshake",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/35 milkshake avocado.png",
        description: "Milkshake Avocado adalah minuman yang segar dan lezat yang terbuat dari campuran alpukat dengan vanila atau susu, dan kadang-kadang ditambahkan dengan tambahan gula atau sirup vanila untuk menambahkan rasa manis. Semuanya kemudian dicampur bersama dalam blender hingga mencapai tekstur yang lembut dan kental. Minuman ini memiliki cita rasa yang unik dan kaya dari alpukat, dengan kelembutan dan krimi ."
    },
    {
        productName: "Soda Gembira",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/13 soda gembira.png",
        description: "Soda Gembira adalah minuman berkarbonasi yang menyegarkan dan berenergi yang terdiri dari campuran soda, sirup rasa, dan biasanya tambahan es krim vanila. Minuman ini memiliki rasa manis, berbuih, "
    },
    {
        productName: "Extrajoss Susu",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/12 extrajoss susu.png",
        description: "Extrajoss Susu adalah minuman unik yang terdiri dari serbuk penambah rasa yang disebut Extra Joss yang dicampur dengan susu. Minuman ini memiliki rasa yang khas dari serbuk penambah rasa yang biasanya memiliki cita rasa buah-buahan atau minuman bersoda. Ketika dicampur dengan susu, Extra Joss Susu menghasilkan kombinasi rasa yang unik, manis, dan menyegarkan. "
    },
    {
        productName: "Es Susu",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/7 es susu putih.png",
        description: "Es Susu Putih adalah minuman yang menyegarkan dan ringan yang terdiri dari susu dingin yang segar dan tanpa tambahan rasa. Minuman ini disajikan dengan es batu untuk memberikan sensasi kesegaran yang menyenangkan. Minuman ini merupakan pilihan yang menyegarkan dan cocok untuk dinikmati di coffee shop, terutama saat cuaca panas."
    },
    {
        productName: "Es Milo",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/3. Es milopng.png",
        description: ""
    },
    {
        productName: "Es Milo Susu",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/5 es milo susu.png",
        description: ""
    },
    {
        productName: "Ice Greentea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/52 greentea ice.png",
        description: ""
    },
    {
        productName: "Ice Red Velvet",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/54 redvelvet ice.png",
        description: ""
    },
    {
        productName: "Ice Chocolate",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/56 chocolate ice.png",
        description: ""
    },
    {
        productName: "Ice Thai Tea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/58 thaitea ice.png",
        description: ""
    },
    {
        productName: "Ice Taro",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/00 Ice Taro.png",
        description: ""
    },
    {
        productName: "Kombucha",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/45 kombuca.png",
        description: ""
    },
    {
        productName: "Ice Tea",
        category: "Cold",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/92 Ice Tea.png",
        description: ""
    },
    {
        productName: "STMJ",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/41 STMJ.png",
        description: ""
    },
    {
        productName: "Jahe",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/38 wedang jahe.png",
        description: ""
    },
    {
        productName: "Jahe Susu",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/39 wedang jahe susu.png",
        description: ""
    },
    {
        productName: "Jahe Gula Aren",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/40 wedang jahe gula aren.png",
        description: ""
    },
    {
        productName: "Wedang Uwuh",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/43 wedang uwuh.png",
        description: ""
    },
    {
        productName: "Milo",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/2. Milo panas.png",
        description: ""
    },
    {
        productName: "Teh Panas",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/8 teh panas.png",
        description: ""
    },
    {
        productName: "Lemontea",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/9 hot lemontea.png",
        description: ""
    },
    {
        productName: "Greentea",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/53 green tea hot.png",
        description: ""
    },
    {
        productName: "RedVelvet",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/55 red velvet hot.png",
        description: ""
    },
    {
        productName: "Chocolate",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/57 chocolate hot.png",
        description: ""
    },
    {
        productName: "Thai Tea",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/59 thaitea hot.png",
        description: ""
    },
    {
        productName: "Hot Taro",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Modern-Drink/00 Hot Taro.png",
        description: ""
    },
    {
        productName: "Jeruk Hangat",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Traditional-Drink/44 jeruk anget.png",
        description: ""
    },
    {
        productName: "Susu Milo",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/4 milo susu panas.png",
        description: ""
    },
    {
        productName: "Susu Putih",
        category: "Hot",
        price: "10.000",
        image: "Menu-Items/Non-Coffee/6  susu putih panas png.png",
        description: ""
    },
    ],
};


for (let i of products.datanonkopi) {
    //Create Card
    let card = document.createElement("div");
    //Card should have category and should stay hidden initially
    card.classList.add("card", i.category, "hide");
    card.addEventListener('click', function(){
        // debugger
        let productName = i.productName.toLowerCase();
        let cards = document.querySelectorAll('.card');
        for(let card of cards){
            let cardProductName = card.querySelector('.product-name').innerText.toLowerCase();
            if (cardProductName === productName) {
                let overlays = document.getElementsByClassName('overlay');
                for (let overlay of overlays) {
                    overlay.style.visibility = "visible";
                    let popup = document.getElementsByClassName('popup');
                    for (let showpopup of popup){
                        showpopup.style.visibility = "visible";
                        showpopup.style.opacity = 1;
                        showpopup.querySelector('.ProductName').innerText = cardProductName;
                    }
                }
                let imageMenuDiv = document.querySelector('.ImageMenu');
                imageMenuDiv.innerHTML = '';

                // Append new image to ImageMenu
                let imgContainer = document.createElement("div");
                imgContainer.style.width = "150%";
                imageMenuDiv.style.width = "100%";
                let image = document.createElement("img");
                image.setAttribute("src", i.image);
                imgContainer.appendChild(image);
                imageMenuDiv.appendChild(imgContainer);

                let descriptionDiv = document.querySelector('.Content');
                descriptionDiv.innerHTML = i.description;
                break;
            }

        }

        let closeButton = document.querySelector('.popup .x');

        // Add a click event listener to the close button
        closeButton.addEventListener('click', function(event) {
            // Prevent the default behavior of the anchor tag (page refresh)
            event.preventDefault();

            // Find the closest popup element and hide it
            let popup = this.closest('.popup');
            popup.style.visibility = "hidden";
            popup.style.opacity = 0;

            let overlays = document.getElementsByClassName('overlay');
            for (let overlay of overlays) {
                overlay.style.visibility = "hidden";
            }
        });
    });

    //image div
    let imgContainer = document.createElement("div");
    imgContainer.classList.add("image-container");
    //img tag
    let image = document.createElement("img");
    image.setAttribute("src", i.image);
    imgContainer.appendChild(image);
    card.appendChild(imgContainer);
    //container
    let container = document.createElement("div");
    container.classList.add("container");
    //product name
    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.id = "Description";
    // name.style.textAlign = "left";
    name.innerText = i.productName.toUpperCase();
    container.appendChild(name);
    //price
    let price = document.createElement("h6");
    price.id = "Description";
    // price.style.textAlign = "left"
    price.innerText = "Rp. " + i.price;
    container.appendChild(price);

    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}


//parameter passed from button (Parameter same as category)
function filterProduct(value) {
    // console.log(value);
    // console.log(products);
    //Button class code
    let buttons = document.querySelectorAll(".button-value");
    buttons.forEach((button) => {
    //check if value equals innerText
    if (value.toUpperCase() == button.innerText.toUpperCase()) {
        button.classList.add("active");
    } else {
        button.classList.remove("active");
    }
    });

    //select all cards
    let elements = document.querySelectorAll(".card");
    //loop through all cards
    elements.forEach((element) => {
    //display all cards on 'all' button click
    if (value == "all") {
        element.classList.remove("hide");
    } else {
            //Check if element contains category class
        if (element.classList.contains(value)) {
            //display element based on category
            element.classList.remove("hide");
        } else {
            //hide other elements
            element.classList.add("hide");
        }
    }
    });
}

//Search button click
document.getElementById("search").addEventListener("click", () => {
    //initializations
    let searchInput = document.getElementById("search-input").value;
    let elements = document.querySelectorAll(".product-name");
    let cards = document.querySelectorAll(".card");

    //loop through all elements
    elements.forEach((element, index) => {
    //check if text includes the search value
    if (element.innerText.includes(searchInput.toUpperCase())) {
        //display matching card
        cards[index].classList.remove("hide");
    } else {
        //hide others
        cards[index].classList.add("hide");
    }
    });
});

//Initially display all products
window.onload = () => {
    filterProduct("all");
};
